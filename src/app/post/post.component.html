<div class="reddit-container" *ngIf="post">
  <div class="reddit-post">
    <div style="display: flex; align-items: center; margin-bottom: 10px">
      <img
        src="assets/community-icon.svg"
        (click)="navigateToCommunity(post.communityId)"
        class="comunityIcon"
      />
      <div>
        <div style="display: flex; align-items: center; line-height: 1">
          <div
            class="community"
            (click)="navigateToCommunity(post.communityId)"
          >
            <button class="communityNameButton">
              r/{{ post.communityName }}
            </button>
          </div>
          <span class="separator">.</span>
          <span class="postDate">{{ post.creationDate | timeAgo }}</span>
        </div>
        <div
          class="postUser"
          (click)="openProfile(post.userId); $event.stopPropagation()"
        >
          u/{{ post.userName }}
        </div>
      </div>
    </div>
    <h4>{{ post.postName }}</h4>
    <p [innerHTML]="sanitizedDescription"></p>
    <div class="voteCommentContainer">
      <app-vote
        [voteCount]="post.votes"
        [postId]="post.postId"
        [currentVote]="post.currentVote"
        (voteCompleted)="updatePost($event)"
      ></app-vote>
      <div class="commentContainer" (click)="scrollToComments(comments)">
        <img src="assets\comment.svg" class="comment" />
        <span class="commentsCount">{{ post.comments }}</span>
      </div>
    </div>
  </div>
  <div class="headerLine"></div>
  <div #comments>
    <app-comment
      [singleThreadCommentId]="singleThreadCommentId"
      (commentsRendered)="checkScrollToComments()"
      [postId]="post.postId"
      (commented)="updatePost(false)"
    ></app-comment>
  </div>
</div>
