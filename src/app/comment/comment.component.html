<div class="commentComponent">
  <app-comment-reply-form
    (commented)="createComment($event)"
  ></app-comment-reply-form>
  <div class="commentSection">
    <div class="individualComment" *ngFor="let comment of comments$">
      <div class="reddit-post">
        <ng-container
          *ngTemplateOutlet="commentTemplate; context: { $implicit: comment }"
        ></ng-container>
        <div class="headerLine"></div>
      </div>
    </div>

    <ng-template #commentTemplate let-comment>
      <app-comment-tile
        (replied)="createComment($event)"
        (commentEdited)="editComment($event)"
        (updateComments)="updateComments()"
        [comment]="comment"
        (commentVoted)="updateComment($event)"
        [userComment]="isUserComment(comment)"
      ></app-comment-tile>
      <div class="reply" *ngFor="let reply of comment.replies">
        <ng-container
          *ngTemplateOutlet="commentTemplate; context: { $implicit: reply }"
        ></ng-container>
      </div>
    </ng-template>
  </div>
</div>
